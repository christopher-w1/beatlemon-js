<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Beat Lemon</title>
  <link href="static/style.css" rel="stylesheet" />
  <link href="static/index.css" rel="stylesheet" />
</head>
<body>
  <script src="static/check_auth.js"></script>
  <script src="static/api.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  

  <div id="main-container">

    <div id="top-panel">
    <div class="button-row">
        <button id="browse-music-btn" onclick="showRecommendations()">
        <i data-lucide="compass">Browse</i> 
        </button>
        <button id="show-search-btn" onclick="showSearch()">
        <i data-lucide="search">Search</i> 
        </button>
        <button id="show-library-btn" onclick="showLibrary()">
        <i data-lucide="library">Library</i> 
        </button>
    </div>
    <span id="user-greeting">Hello, <b class="user-name">unknown user</b><b>!</b></span>
    <div class="button-row">
        <button id="toggle-playlist-btn" onclick="togglePlaylist()">
            <i data-lucide="list">Toggle Playlist</i>
        </button>
        <button id="logout-btn" onclick="logout()">
            <i data-lucide="log-out">Logout</i>
        </button>
    </div>
    </div>
    

    <div id="music-browser">
        <div id="browser-description">
            Search the Library
        </div>
        <div id="search-panel">
            <div id="search-bar">
                <input id="search-input" placeholder="Find a song...">
                <button id="search-button">
                    <i data-lucide="search">Search</i> 
                </button>
            </div>
        </div>
        <div id="search-results">

        </div>
    </div>

    <div id="playlist">
        <div id="playlist-title">Current Playlist</div>
        <div id="playlist-item-container"></div>
        <div id="sidebar-cover" class="hidden">
            <img src="static/beat-lemon2.png">
        </div>
    </div>

    <div id="player-panel">
        <div id="playback-controls" class="button-row">
            <button id="prev-track-btn" onclick="prevTrack()">
                <i data-lucide="skip-back">Prev</i>
            </button>
            <button id="play-pause-btn" onclick="togglePlayback()">
                <i data-lucide="play">Play</i>
            </button>
            <button id="next-track-btn" onclick="nextTrack()">
                <i data-lucide="skip-forward">Next</i>
            </button>
        </div>

        <div id="progress-container">
            <div id="progress-bar"> </div>
        </div>
        <div id="progress-time">0:00 / 0:00</div>

        <div class="button-row">
            <button id="auto-dj-btn" onclick="toggleAutoDj()" class="mini-btn" title="Auto-DJ">
                <i data-lucide="cpu"></i>
            </button>
            <button id="mute-btn">
                <i data-lucide="volume">Mute</i>
            </button>
        </div>

        <div id="volume-container">
            <div id="volume-bar"></div>
        </div>

    </div>
  </div>

  <audio id="audio-player"></audio>

  <script src="static/index.js"></script>
  <script>lucide.createIcons();</script>
</body>

</html>